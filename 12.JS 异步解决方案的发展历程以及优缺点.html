<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JS 异步解决方案的发展历程以及优缺点</title>
</head>
<body>
    <pre>

        js事件循环机制：
            js只有一个主线程，依靠函数执行栈和任务队列来执行代码；
            任务队列分为宏任务（macro-task）和微任务（micro-task）；

            代码执行时，同步任务都在主线程上执行，形成一个执行栈（主代码块也是宏任务），
            遇到异步任务时，会将异步任务放到各自的任务队列中，比如：setTimeout和setInterval属于宏任务；promise和async等属于微任务，
            在主线程执行栈执行完毕后，会读取任务队列，会执行所有可执行的微任务，本轮循环结束。
            下一轮循环，再从宏任务中开始读取，重复循环。


        1. callback: 
                        回调地狱
                        不能return
                        不能通过try...catch 捕获错误

        事件监听
        
        发布/订阅

        2. promise: 
                        解决回调地狱
                        但无法取消

        3. generator:   （原理：协程。协程A执行到某个地方时，进入暂停，控制权交给协程B，一段时间后，协程B交还控制权，协程A恢复执行）
                        返回一个内部指针，即遍历器对象iterator，
                        yield 表达式暂停执行，遍历器对象的next恢复执行
                        只有遍历器对象指向yield表达式时，yield后面的表达式才会执行

        4. async/await: （generator的语法糖）
                        
                        多个异步操作，容易影响性能（并发解决）


    </pre>
</body>
</html>